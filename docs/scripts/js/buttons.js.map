{"version":3,"sources":["js/buttons.js"],"names":["$","document","ready","fn","reverse","on","e","$this","openFABMenu","closeFABMenu","$menu","parent","hasClass","FABtoToolbar","extend","openFAB","closeFAB","openToolbar","closeToolbar","toolbarToFAB","btn","horizontal","offsetY","offsetX","addClass","find","velocity","scaleY","scaleX","translateY","translateX","duration","time","each","opacity","delay","removeClass","attr","scaleFactor","windowWidth","window","innerWidth","windowHeight","innerHeight","btnRect","getBoundingClientRect","anchor","first","menu","backdrop","fabColor","css","append","left","width","bottom","transform","transition","setTimeout","overflow","off","target","closest","length","btnWidth","btnBottom","btnLeft","remove","jQuery"],"mappings":"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","file":"buttons.js","sourcesContent":["(function ($) {\n  $(document).ready(function() {\n\n    // jQuery reverse\n    $.fn.reverse = [].reverse;\n\n    // Hover behaviour: make sure this doesn't work on .click-to-toggle FABs!\n    $(document).on('mouseenter.fixedActionBtn', '.fixed-action-btn:not(.click-to-toggle):not(.toolbar)', function(e) {\n      var $this = $(this);\n      openFABMenu($this);\n    });\n    $(document).on('mouseleave.fixedActionBtn', '.fixed-action-btn:not(.click-to-toggle):not(.toolbar)', function(e) {\n      var $this = $(this);\n      closeFABMenu($this);\n    });\n\n    // Toggle-on-click behaviour.\n    $(document).on('click.fabClickToggle', '.fixed-action-btn.click-to-toggle > a', function(e) {\n      var $this = $(this);\n      var $menu = $this.parent();\n      if ($menu.hasClass('active')) {\n        closeFABMenu($menu);\n      } else {\n        openFABMenu($menu);\n      }\n    });\n\n    // Toolbar transition behaviour.\n    $(document).on('click.fabToolbar', '.fixed-action-btn.toolbar > a', function(e) {\n      var $this = $(this);\n      var $menu = $this.parent();\n      FABtoToolbar($menu);\n    });\n\n  });\n\n  $.fn.extend({\n    openFAB: function() {\n      openFABMenu($(this));\n    },\n    closeFAB: function() {\n      closeFABMenu($(this));\n    },\n    openToolbar: function() {\n      FABtoToolbar($(this));\n    },\n    closeToolbar: function() {\n      toolbarToFAB($(this));\n    }\n  });\n\n\n  var openFABMenu = function (btn) {\n    var $this = btn;\n    if ($this.hasClass('active') === false) {\n\n      // Get direction option\n      var horizontal = $this.hasClass('horizontal');\n      var offsetY, offsetX;\n\n      if (horizontal === true) {\n        offsetX = 40;\n      } else {\n        offsetY = 40;\n      }\n\n      $this.addClass('active');\n      $this.find('ul .btn-floating').velocity(\n        { scaleY: \".4\", scaleX: \".4\", translateY: offsetY + 'px', translateX: offsetX + 'px'},\n        { duration: 0 });\n\n      var time = 0;\n      $this.find('ul .btn-floating').reverse().each( function () {\n        $(this).velocity(\n          { opacity: \"1\", scaleX: \"1\", scaleY: \"1\", translateY: \"0\", translateX: '0'},\n          { duration: 80, delay: time });\n        time += 40;\n      });\n    }\n  };\n\n  var closeFABMenu = function (btn) {\n    var $this = btn;\n    // Get direction option\n    var horizontal = $this.hasClass('horizontal');\n    var offsetY, offsetX;\n\n    if (horizontal === true) {\n      offsetX = 40;\n    } else {\n      offsetY = 40;\n    }\n\n    $this.removeClass('active');\n    var time = 0;\n    $this.find('ul .btn-floating').velocity(\"stop\", true);\n    $this.find('ul .btn-floating').velocity(\n      { opacity: \"0\", scaleX: \".4\", scaleY: \".4\", translateY: offsetY + 'px', translateX: offsetX + 'px'},\n      { duration: 80 }\n    );\n  };\n\n\n  /**\n   * Transform FAB into toolbar\n   * @param  {Object}  object jQuery object\n   */\n  var FABtoToolbar = function(btn) {\n    if (btn.attr('data-open') === \"true\") {\n      return;\n    }\n\n    var offsetX, offsetY, scaleFactor;\n    var windowWidth = window.innerWidth;\n    var windowHeight = window.innerHeight;\n    var btnRect = btn[0].getBoundingClientRect();\n    var anchor = btn.find('> a').first();\n    var menu = btn.find('> ul').first();\n    var backdrop = $('<div class=\"fab-backdrop\"></div>');\n    var fabColor = anchor.css('background-color');\n    anchor.append(backdrop);\n\n    offsetX = btnRect.left - (windowWidth / 2) + (btnRect.width / 2);\n    offsetY = windowHeight - btnRect.bottom;\n    scaleFactor = windowWidth / backdrop.width();\n    btn.attr('data-origin-bottom', btnRect.bottom);\n    btn.attr('data-origin-left', btnRect.left);\n    btn.attr('data-origin-width', btnRect.width);\n\n    // Set initial state\n    btn.addClass('active');\n    btn.attr('data-open', true);\n    btn.css({\n      'text-align': 'center',\n      width: '100%',\n      bottom: 0,\n      left: 0,\n      transform: 'translateX(' + offsetX + 'px)',\n      transition: 'none'\n    });\n    anchor.css({\n      transform: 'translateY(' + -offsetY + 'px)',\n      transition: 'none'\n    });\n    backdrop.css({\n      'background-color': fabColor\n    });\n\n\n    setTimeout(function() {\n      btn.css({\n        transform: '',\n        transition: 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s'\n      });\n      anchor.css({\n        overflow: 'visible',\n        transform: '',\n        transition: 'transform .2s'\n      });\n\n      setTimeout(function() {\n        btn.css({\n          overflow: 'hidden',\n          'background-color': fabColor\n        });\n        backdrop.css({\n          transform: 'scale(' + scaleFactor + ')',\n          transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'\n        });\n        menu.find('> li > a').css({\n          opacity: 1\n        });\n\n        // Scroll to close.\n        $(window).on('scroll.fabToolbarClose', function() {\n          toolbarToFAB(btn);\n          $(window).off('scroll.fabToolbarClose');\n          $(document).off('click.fabToolbarClose');\n        });\n\n        $(document).on('click.fabToolbarClose', function(e) {\n          if (!$(e.target).closest(menu).length) {\n            toolbarToFAB(btn);\n            $(window).off('scroll.fabToolbarClose');\n            $(document).off('click.fabToolbarClose');\n          }\n        });\n      }, 100);\n    }, 0);\n  };\n\n  /**\n   * Transform toolbar back into FAB\n   * @param  {Object}  object jQuery object\n   */\n  var toolbarToFAB = function(btn) {\n    if (btn.attr('data-open') !== \"true\") {\n      return;\n    }\n\n    var offsetX, offsetY, scaleFactor;\n    var windowWidth = window.innerWidth;\n    var windowHeight = window.innerHeight;\n    var btnWidth = btn.attr('data-origin-width');\n    var btnBottom = btn.attr('data-origin-bottom');\n    var btnLeft = btn.attr('data-origin-left');\n    var anchor = btn.find('> .btn-floating').first();\n    var menu = btn.find('> ul').first();\n    var backdrop = btn.find('.fab-backdrop');\n    var fabColor = anchor.css('background-color');\n\n    offsetX = btnLeft - (windowWidth / 2) + (btnWidth / 2);\n    offsetY = windowHeight - btnBottom;\n    scaleFactor = windowWidth / backdrop.width();\n\n\n    // Hide backdrop\n    btn.removeClass('active');\n    btn.attr('data-open', false);\n    btn.css({\n      'background-color': 'transparent',\n      transition: 'none'\n    });\n    anchor.css({\n      transition: 'none'\n    });\n    backdrop.css({\n      transform: 'scale(0)',\n      'background-color': fabColor\n    });\n    menu.find('> li > a').css({\n      opacity: ''\n    });\n\n    setTimeout(function() {\n      backdrop.remove();\n\n      // Set initial state.\n      btn.css({\n        'text-align': '',\n        width: '',\n        bottom: '',\n        left: '',\n        overflow: '',\n        'background-color': '',\n        transform: 'translate3d(' + -offsetX + 'px,0,0)'\n      });\n      anchor.css({\n        overflow: '',\n        transform: 'translate3d(0,' + offsetY + 'px,0)'\n      });\n\n      setTimeout(function() {\n        btn.css({\n          transform: 'translate3d(0,0,0)',\n          transition: 'transform .2s'\n        });\n        anchor.css({\n          transform: 'translate3d(0,0,0)',\n          transition: 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)'\n        });\n      }, 20);\n    }, 200);\n  };\n\n\n}( jQuery ));\n"]}