{"version":3,"sources":["js/pushpin.js"],"names":["$","fn","pushpin","options","defaults","top","bottom","Infinity","offset","each","id","data","window","off","removeData","removeClass","removeAttr","extend","$index","$uniqueId","Materialize","guid","$this","$original_offset","removePinClasses","object","updateElements","objects","scrolled","hasClass","css","addClass","scrollTop","on","$scrolled","jQuery"],"mappings":";;AAAC,WAAUA,CAAV,EAAa;AACZA,IAAEC,EAAF,CAAKC,OAAL,GAAe,UAAUC,OAAV,EAAmB;AAChC;AACA,QAAIC,WAAW;AACbC,WAAK,CADQ;AAEbC,cAAQC,QAFK;AAGbC,cAAQ;AAHK,KAAf;;AAMA;AACA,QAAIL,YAAY,QAAhB,EAA0B;AACxB,WAAKM,IAAL,CAAU,YAAY;AACpB,YAAIC,KAAKV,EAAE,IAAF,EAAQW,IAAR,CAAa,YAAb,CAAT,EAAqC;AACnCX,YAAEY,MAAF,EAAUC,GAAV,CAAc,YAAYH,EAA1B;AACAV,YAAE,IAAF,EAAQc,UAAR,CAAmB,YAAnB,EAAiCC,WAAjC,CAA6C,2BAA7C,EAA0EC,UAA1E,CAAqF,OAArF;AACD;AACF,OALD;AAMA,aAAO,KAAP;AACD;;AAEDb,cAAUH,EAAEiB,MAAF,CAASb,QAAT,EAAmBD,OAAnB,CAAV;;AAGAe,aAAS,CAAT;AACA,WAAO,KAAKT,IAAL,CAAU,YAAW;AAC1B,UAAIU,YAAYC,YAAYC,IAAZ,EAAhB;AAAA,UACIC,QAAQtB,EAAE,IAAF,CADZ;AAAA,UAEIuB,mBAAmBvB,EAAE,IAAF,EAAQQ,MAAR,GAAiBH,GAFxC;;AAIA,eAASmB,gBAAT,CAA0BC,MAA1B,EAAkC;AAChCA,eAAOV,WAAP,CAAmB,SAAnB;AACAU,eAAOV,WAAP,CAAmB,QAAnB;AACAU,eAAOV,WAAP,CAAmB,YAAnB;AACD;;AAED,eAASW,cAAT,CAAwBC,OAAxB,EAAiCC,QAAjC,EAA2C;AACzCD,gBAAQlB,IAAR,CAAa,YAAY;AACvB;AACA,cAAIN,QAAQE,GAAR,IAAeuB,QAAf,IAA2BzB,QAAQG,MAAR,IAAkBsB,QAA7C,IAAyD,CAAC5B,EAAE,IAAF,EAAQ6B,QAAR,CAAiB,QAAjB,CAA9D,EAA0F;AACxFL,6BAAiBxB,EAAE,IAAF,CAAjB;AACAA,cAAE,IAAF,EAAQ8B,GAAR,CAAY,KAAZ,EAAmB3B,QAAQK,MAA3B;AACAR,cAAE,IAAF,EAAQ+B,QAAR,CAAiB,QAAjB;AACD;;AAED;AACA,cAAIH,WAAWzB,QAAQE,GAAnB,IAA0B,CAACL,EAAE,IAAF,EAAQ6B,QAAR,CAAiB,SAAjB,CAA/B,EAA4D;AAC1DL,6BAAiBxB,EAAE,IAAF,CAAjB;AACAA,cAAE,IAAF,EAAQ8B,GAAR,CAAY,KAAZ,EAAmB,CAAnB;AACA9B,cAAE,IAAF,EAAQ+B,QAAR,CAAiB,SAAjB;AACD;;AAED;AACA,cAAIH,WAAWzB,QAAQG,MAAnB,IAA6B,CAACN,EAAE,IAAF,EAAQ6B,QAAR,CAAiB,YAAjB,CAAlC,EAAkE;AAChEL,6BAAiBxB,EAAE,IAAF,CAAjB;AACAA,cAAE,IAAF,EAAQ+B,QAAR,CAAiB,YAAjB;AACA/B,cAAE,IAAF,EAAQ8B,GAAR,CAAY,KAAZ,EAAmB3B,QAAQG,MAAR,GAAiBiB,gBAApC;AACD;AACF,SArBD;AAsBD;;AAEDvB,QAAE,IAAF,EAAQW,IAAR,CAAa,YAAb,EAA2BQ,SAA3B;AACAO,qBAAeJ,KAAf,EAAsBtB,EAAEY,MAAF,EAAUoB,SAAV,EAAtB;AACAhC,QAAEY,MAAF,EAAUqB,EAAV,CAAa,YAAYd,SAAzB,EAAoC,YAAY;AAC9C,YAAIe,YAAYlC,EAAEY,MAAF,EAAUoB,SAAV,KAAwB7B,QAAQK,MAAhD;AACAkB,uBAAeJ,KAAf,EAAsBY,SAAtB;AACD,OAHD;AAKD,KA3CM,CAAP;AA6CD,GApED;AAqED,CAtEA,EAsEEC,MAtEF,CAAD","file":"pushpin.js","sourcesContent":["(function ($) {\n  $.fn.pushpin = function (options) {\n    // Defaults\n    var defaults = {\n      top: 0,\n      bottom: Infinity,\n      offset: 0\n    };\n\n    // Remove pushpin event and classes\n    if (options === \"remove\") {\n      this.each(function () {\n        if (id = $(this).data('pushpin-id')) {\n          $(window).off('scroll.' + id);\n          $(this).removeData('pushpin-id').removeClass('pin-top pinned pin-bottom').removeAttr('style');\n        }\n      });\n      return false;\n    }\n\n    options = $.extend(defaults, options);\n\n\n    $index = 0;\n    return this.each(function() {\n      var $uniqueId = Materialize.guid(),\n          $this = $(this),\n          $original_offset = $(this).offset().top;\n\n      function removePinClasses(object) {\n        object.removeClass('pin-top');\n        object.removeClass('pinned');\n        object.removeClass('pin-bottom');\n      }\n\n      function updateElements(objects, scrolled) {\n        objects.each(function () {\n          // Add position fixed (because its between top and bottom)\n          if (options.top <= scrolled && options.bottom >= scrolled && !$(this).hasClass('pinned')) {\n            removePinClasses($(this));\n            $(this).css('top', options.offset);\n            $(this).addClass('pinned');\n          }\n\n          // Add pin-top (when scrolled position is above top)\n          if (scrolled < options.top && !$(this).hasClass('pin-top')) {\n            removePinClasses($(this));\n            $(this).css('top', 0);\n            $(this).addClass('pin-top');\n          }\n\n          // Add pin-bottom (when scrolled position is below bottom)\n          if (scrolled > options.bottom && !$(this).hasClass('pin-bottom')) {\n            removePinClasses($(this));\n            $(this).addClass('pin-bottom');\n            $(this).css('top', options.bottom - $original_offset);\n          }\n        });\n      }\n\n      $(this).data('pushpin-id', $uniqueId);\n      updateElements($this, $(window).scrollTop());\n      $(window).on('scroll.' + $uniqueId, function () {\n        var $scrolled = $(window).scrollTop() + options.offset;\n        updateElements($this, $scrolled);\n      });\n\n    });\n\n  };\n}( jQuery ));"]}