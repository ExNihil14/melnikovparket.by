{"version":3,"sources":["js/scrollFire.js"],"names":["$","scrollFireEventsHandled","Materialize","scrollFire","options","onScroll","windowScroll","window","pageYOffset","innerHeight","i","length","value","selector","offset","callback","currentElement","document","querySelector","elementOffset","getBoundingClientRect","top","done","call","callbackFunc","Function","throttledScroll","throttle","addEventListener","setTimeout","jQuery"],"mappings":";;AAAA,CAAC,UAASA,CAAT,EAAY;;AAEX,MAAIC,0BAA0B,KAA9B;;AAEA;AACAC,cAAYC,UAAZ,GAAyB,UAASC,OAAT,EAAkB;AACzC,QAAIC,WAAW,SAAXA,QAAW,GAAW;AACxB,UAAIC,eAAeC,OAAOC,WAAP,GAAqBD,OAAOE,WAA/C;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAiBA,IAAIN,QAAQO,MAA7B,EAAqCD,GAArC,EAA0C;AACxC;AACA,YAAIE,QAAQR,QAAQM,CAAR,CAAZ;AACA,YAAIG,WAAWD,MAAMC,QAArB;AAAA,YACIC,SAASF,MAAME,MADnB;AAAA,YAEIC,WAAWH,MAAMG,QAFrB;;AAIA,YAAIC,iBAAiBC,SAASC,aAAT,CAAuBL,QAAvB,CAArB;AACA,YAAKG,mBAAmB,IAAxB,EAA8B;AAC5B,cAAIG,gBAAgBH,eAAeI,qBAAf,GAAuCC,GAAvC,GAA6Cd,OAAOC,WAAxE;;AAEA,cAAIF,eAAgBa,gBAAgBL,MAApC,EAA6C;AAC3C,gBAAIF,MAAMU,IAAN,KAAe,IAAnB,EAAyB;AACvB,kBAAI,OAAOP,QAAP,KAAqB,UAAzB,EAAqC;AACnCA,yBAASQ,IAAT,CAAc,IAAd,EAAoBP,cAApB;AACD,eAFD,MAEO,IAAI,OAAOD,QAAP,KAAqB,QAAzB,EAAmC;AACxC,oBAAIS,eAAe,IAAIC,QAAJ,CAAaV,QAAb,CAAnB;AACAS,6BAAaR,cAAb;AACD;AACDJ,oBAAMU,IAAN,GAAa,IAAb;AACD;AACF;AACF;AACF;AACF,KA3BD;;AA8BA,QAAII,kBAAkBxB,YAAYyB,QAAZ,CAAqB,YAAW;AACpDtB;AACD,KAFqB,EAEnBD,QAAQuB,QAAR,IAAoB,GAFD,CAAtB;;AAIA,QAAI,CAAC1B,uBAAL,EAA8B;AAC5BM,aAAOqB,gBAAP,CAAwB,QAAxB,EAAkCF,eAAlC;AACAnB,aAAOqB,gBAAP,CAAwB,QAAxB,EAAkCF,eAAlC;AACAzB,gCAA0B,IAA1B;AACD;;AAED;AACA4B,eAAWH,eAAX,EAA4B,CAA5B;AACD,GA3CD;AA6CD,CAlDD,EAkDGI,MAlDH","file":"scrollFire.js","sourcesContent":["(function($) {\n\n  var scrollFireEventsHandled = false;\n\n  // Input: Array of JSON objects {selector, offset, callback}\n  Materialize.scrollFire = function(options) {\n    var onScroll = function() {\n      var windowScroll = window.pageYOffset + window.innerHeight;\n\n      for (var i = 0 ; i < options.length; i++) {\n        // Get options from each line\n        var value = options[i];\n        var selector = value.selector,\n            offset = value.offset,\n            callback = value.callback;\n\n        var currentElement = document.querySelector(selector);\n        if ( currentElement !== null) {\n          var elementOffset = currentElement.getBoundingClientRect().top + window.pageYOffset;\n\n          if (windowScroll > (elementOffset + offset)) {\n            if (value.done !== true) {\n              if (typeof(callback) === 'function') {\n                callback.call(this, currentElement);\n              } else if (typeof(callback) === 'string') {\n                var callbackFunc = new Function(callback);\n                callbackFunc(currentElement);\n              }\n              value.done = true;\n            }\n          }\n        }\n      }\n    };\n\n\n    var throttledScroll = Materialize.throttle(function() {\n      onScroll();\n    }, options.throttle || 100);\n\n    if (!scrollFireEventsHandled) {\n      window.addEventListener(\"scroll\", throttledScroll);\n      window.addEventListener(\"resize\", throttledScroll);\n      scrollFireEventsHandled = true;\n    }\n\n    // perform a scan once, after current execution context, and after dom is ready\n    setTimeout(throttledScroll, 0);\n  };\n\n})(jQuery);\n"]}