{"version":3,"sources":["js/modal.js"],"names":["$","_stack","_lastID","_generateID","methods","init","options","defaults","opacity","inDuration","outDuration","ready","undefined","complete","dismissible","startingTop","endingTop","extend","each","$modal","modal_id","attr","data","closeModal","overlayID","$overlay","removeClass","css","overflow","width","find","off","document","velocity","duration","queue","ease","exitVelocityOptions","display","call","remove","hasClass","bottom","top","scaleX","openModal","$trigger","$body","oldWidth","innerWidth","lStack","addClass","append","click","on","e","keyCode","enterVelocityOptions","Velocity","hook","offset","window","scrollTop","preventDefault","open","trigger","close","fn","modal","methodOrOptions","apply","Array","prototype","slice","arguments","error","jQuery"],"mappings":"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","file":"modal.js","sourcesContent":["(function($) {\n  var _stack = 0,\n  _lastID = 0,\n  _generateID = function() {\n    _lastID++;\n    return 'materialize-modal-overlay-' + _lastID;\n  };\n\n  var methods = {\n    init : function(options) {\n      var defaults = {\n        opacity: 0.5,\n        inDuration: 350,\n        outDuration: 250,\n        ready: undefined,\n        complete: undefined,\n        dismissible: true,\n        startingTop: '4%',\n        endingTop: '10%'\n      };\n\n      // Override defaults\n      options = $.extend(defaults, options);\n\n      return this.each(function() {\n        var $modal = $(this);\n        var modal_id = $(this).attr(\"id\") || '#' + $(this).data('target');\n\n        var closeModal = function() {\n          var overlayID = $modal.data('overlay-id');\n          var $overlay = $('#' + overlayID);\n          $modal.removeClass('open');\n\n          // Enable scrolling\n          $('body').css({\n            overflow: '',\n            width: ''\n          });\n\n          $modal.find('.modal-close').off('click.close');\n          $(document).off('keyup.modal' + overlayID);\n\n          $overlay.velocity( { opacity: 0}, {duration: options.outDuration, queue: false, ease: \"easeOutQuart\"});\n\n\n          // Define Bottom Sheet animation\n          var exitVelocityOptions = {\n            duration: options.outDuration,\n            queue: false,\n            ease: \"easeOutCubic\",\n            // Handle modal ready callback\n            complete: function() {\n              $(this).css({display:\"none\"});\n\n              // Call complete callback\n              if (typeof(options.complete) === \"function\") {\n                options.complete.call(this, $modal);\n              }\n              $overlay.remove();\n              _stack--;\n            }\n          };\n          if ($modal.hasClass('bottom-sheet')) {\n            $modal.velocity({bottom: \"-100%\", opacity: 0}, exitVelocityOptions);\n          }\n          else {\n            $modal.velocity(\n              { top: options.startingTop, opacity: 0, scaleX: 0.7},\n              exitVelocityOptions\n            );\n          }\n        };\n\n        var openModal = function($trigger) {\n          var $body = $('body');\n          var oldWidth = $body.innerWidth();\n          $body.css('overflow', 'hidden');\n          $body.width(oldWidth);\n\n          if ($modal.hasClass('open')) {\n            return;\n          }\n\n          var overlayID = _generateID();\n          var $overlay = $('<div class=\"modal-overlay\"></div>');\n          lStack = (++_stack);\n\n          // Store a reference of the overlay\n          $overlay.attr('id', overlayID).css('z-index', 1000 + lStack * 2);\n          $modal.data('overlay-id', overlayID).css('z-index', 1000 + lStack * 2 + 1);\n          $modal.addClass('open');\n\n          $(\"body\").append($overlay);\n\n          if (options.dismissible) {\n            $overlay.click(function() {\n              closeModal();\n            });\n            // Return on ESC\n            $(document).on('keyup.modal' + overlayID, function(e) {\n              if (e.keyCode === 27) {   // ESC key\n                closeModal();\n              }\n            });\n          }\n\n          $modal.find(\".modal-close\").on('click.close', function(e) {\n            closeModal();\n          });\n\n          $overlay.css({ display : \"block\", opacity : 0 });\n\n          $modal.css({\n            display : \"block\",\n            opacity: 0\n          });\n\n          $overlay.velocity({opacity: options.opacity}, {duration: options.inDuration, queue: false, ease: \"easeOutCubic\"});\n          $modal.data('associated-overlay', $overlay[0]);\n\n          // Define Bottom Sheet animation\n          var enterVelocityOptions = {\n            duration: options.inDuration,\n            queue: false,\n            ease: \"easeOutCubic\",\n            // Handle modal ready callback\n            complete: function() {\n              if (typeof(options.ready) === \"function\") {\n                options.ready.call(this, $modal, $trigger);\n              }\n            }\n          };\n          if ($modal.hasClass('bottom-sheet')) {\n            $modal.velocity({bottom: \"0\", opacity: 1}, enterVelocityOptions);\n          }\n          else {\n            $.Velocity.hook($modal, \"scaleX\", 0.7);\n            $modal.css({ top: options.startingTop });\n            $modal.velocity({top: options.endingTop, opacity: 1, scaleX: '1'}, enterVelocityOptions);\n          }\n\n        };\n\n        // Reset handlers\n        $(document).off('click.modalTrigger', 'a[href=\"#' + modal_id + '\"], [data-target=\"' + modal_id + '\"]');\n        $(this).off('openModal');\n        $(this).off('closeModal');\n\n        // Close Handlers\n        $(document).on('click.modalTrigger', 'a[href=\"#' + modal_id + '\"], [data-target=\"' + modal_id + '\"]', function(e) {\n          options.startingTop = ($(this).offset().top - $(window).scrollTop()) /1.15;\n          openModal($(this));\n          e.preventDefault();\n        }); // done set on click\n\n        $(this).on('openModal', function() {\n          var modal_id = $(this).attr(\"href\") || '#' + $(this).data('target');\n          openModal();\n        });\n\n        $(this).on('closeModal', function() {\n          closeModal();\n        });\n      }); // done return\n    },\n    open : function() {\n      $(this).trigger('openModal');\n    },\n    close : function() {\n      $(this).trigger('closeModal');\n    }\n  };\n\n  $.fn.modal = function(methodOrOptions) {\n    if ( methods[methodOrOptions] ) {\n      return methods[ methodOrOptions ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n    } else if ( typeof methodOrOptions === 'object' || ! methodOrOptions ) {\n      // Default to \"init\"\n      return methods.init.apply( this, arguments );\n    } else {\n      $.error( 'Method ' +  methodOrOptions + ' does not exist on jQuery.modal' );\n    }\n  };\n})(jQuery);\n"]}