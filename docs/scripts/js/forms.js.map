{"version":3,"sources":["js/forms.js"],"names":["$","document","ready","Materialize","updateTextFields","input_selector","each","index","element","$this","val","length","autofocus","attr","undefined","siblings","addClass","validity","toggleClass","badInput","removeClass","on","validate_field","e","formReset","target","is","find","reset_text","text","$inputElement","selector","window","object","hasLength","lenAttr","parseInt","len","hasClass","radio_checkbox","which","one","hiddenDiv","first","append","text_area_selector","textareaAutoResize","$textarea","fontFamily","css","fontSize","lineHeight","content","html","replace","width","height","file_field","closest","path_input","files","file_names","i","push","name","join","trigger","range_type","range_mousedown","left","thumb","after","range_wrapper","outerWidth","velocity","top","marginLeft","duration","easing","type","pageX","originalEvent","touches","offset","children","fn","autocomplete","options","defaults","data","limit","Infinity","onAutocomplete","extend","$input","count","activeIndex","oldVal","$inputDiv","isEmptyObject","$autocomplete","$oldAutocomplete","next","highlight","string","$el","img","matchStart","toLowerCase","indexOf","matchEnd","beforeMatch","slice","matchText","afterMatch","prepend","resetCurrentElement","off","empty","key","hasOwnProperty","autocompleteOption","keyCode","liElement","numItems","$active","eq","click","preventDefault","trim","call","material_select","callback","$select","multiple","lastID","parent","remove","unwrap","uniqueID","guid","wrapper","selectChildren","valuesSelected","optionsHover","label","appendOptionWithIcon","select","option","disabledClass","optgroupClass","icon_url","classes","classString","selectOptions","selected","prop","v","toggleEntryFromArray","$newSelect","activateOption","stopPropagation","wrap","dropdownIcon","sanitizedLabelHtml","before","dropdown","not","split","selectedOption","filter","hover","collection","newOption","firstActivation","scrollTo","filterQuery","onKeyDown","letter","String","fromCharCode","nonLetters","activeOption","prev","setTimeout","entriesArray","entryIndex","notAdded","splice","setValueToInput","value","jQuery"],"mappings":"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","file":"forms.js","sourcesContent":["(function ($) {\n  $(document).ready(function() {\n\n    // Function to update labels of text fields\n    Materialize.updateTextFields = function() {\n      var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea';\n      $(input_selector).each(function(index, element) {\n        var $this = $(this);\n        if ($(element).val().length > 0 || element.autofocus || $this.attr('placeholder') !== undefined) {\n          $this.siblings('label').addClass('active');\n        } else if ($(element)[0].validity) {\n          $this.siblings('label').toggleClass('active', $(element)[0].validity.badInput === true);\n        } else {\n          $this.siblings('label').removeClass('active');\n        }\n      });\n    };\n\n    // Text based inputs\n    var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea';\n\n    // Add active if form auto complete\n    $(document).on('change', input_selector, function () {\n      if($(this).val().length !== 0 || $(this).attr('placeholder') !== undefined) {\n        $(this).siblings('label').addClass('active');\n      }\n      validate_field($(this));\n    });\n\n    // Add active if input element has been pre-populated on document ready\n    $(document).ready(function() {\n      Materialize.updateTextFields();\n    });\n\n    // HTML DOM FORM RESET handling\n    $(document).on('reset', function(e) {\n      var formReset = $(e.target);\n      if (formReset.is('form')) {\n        formReset.find(input_selector).removeClass('valid').removeClass('invalid');\n        formReset.find(input_selector).each(function () {\n          if ($(this).attr('value') === '') {\n            $(this).siblings('label').removeClass('active');\n          }\n        });\n\n        // Reset select\n        formReset.find('select.initialized').each(function () {\n          var reset_text = formReset.find('option[selected]').text();\n          formReset.siblings('input.select-dropdown').val(reset_text);\n        });\n      }\n    });\n\n    // Add active when element has focus\n    $(document).on('focus', input_selector, function () {\n      $(this).siblings('label, .prefix').addClass('active');\n    });\n\n    $(document).on('blur', input_selector, function () {\n      var $inputElement = $(this);\n      var selector = \".prefix\";\n\n      if ($inputElement.val().length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') === undefined) {\n        selector += \", label\";\n      }\n\n      $inputElement.siblings(selector).removeClass('active');\n\n      validate_field($inputElement);\n    });\n\n    window.validate_field = function(object) {\n      var hasLength = object.attr('data-length') !== undefined;\n      var lenAttr = parseInt(object.attr('data-length'));\n      var len = object.val().length;\n\n      if (object.val().length === 0 && object[0].validity.badInput === false) {\n        if (object.hasClass('validate')) {\n          object.removeClass('valid');\n          object.removeClass('invalid');\n        }\n      }\n      else {\n        if (object.hasClass('validate')) {\n          // Check for character counter attributes\n          if ((object.is(':valid') && hasLength && (len <= lenAttr)) || (object.is(':valid') && !hasLength)) {\n            object.removeClass('invalid');\n            object.addClass('valid');\n          }\n          else {\n            object.removeClass('valid');\n            object.addClass('invalid');\n          }\n        }\n      }\n    };\n\n    // Radio and Checkbox focus class\n    var radio_checkbox = 'input[type=radio], input[type=checkbox]';\n    $(document).on('keyup.radio', radio_checkbox, function(e) {\n      // TAB, check if tabbing to radio or checkbox.\n      if (e.which === 9) {\n        $(this).addClass('tabbed');\n        var $this = $(this);\n        $this.one('blur', function(e) {\n\n          $(this).removeClass('tabbed');\n        });\n        return;\n      }\n    });\n\n    // Textarea Auto Resize\n    var hiddenDiv = $('.hiddendiv').first();\n    if (!hiddenDiv.length) {\n      hiddenDiv = $('<div class=\"hiddendiv common\"></div>');\n      $('body').append(hiddenDiv);\n    }\n    var text_area_selector = '.materialize-textarea';\n\n    function textareaAutoResize($textarea) {\n      // Set font properties of hiddenDiv\n\n      var fontFamily = $textarea.css('font-family');\n      var fontSize = $textarea.css('font-size');\n      var lineHeight = $textarea.css('line-height');\n\n      if (fontSize) { hiddenDiv.css('font-size', fontSize); }\n      if (fontFamily) { hiddenDiv.css('font-family', fontFamily); }\n      if (lineHeight) { hiddenDiv.css('line-height', lineHeight); }\n\n      if ($textarea.attr('wrap') === \"off\") {\n        hiddenDiv.css('overflow-wrap', \"normal\")\n                 .css('white-space', \"pre\");\n      }\n\n      hiddenDiv.text($textarea.val() + '\\n');\n      var content = hiddenDiv.html().replace(/\\n/g, '<br>');\n      hiddenDiv.html(content);\n\n\n      // When textarea is hidden, width goes crazy.\n      // Approximate with half of window size\n\n      if ($textarea.is(':visible')) {\n        hiddenDiv.css('width', $textarea.width());\n      }\n      else {\n        hiddenDiv.css('width', $(window).width()/2);\n      }\n\n      $textarea.css('height', hiddenDiv.height());\n    }\n\n    $(text_area_selector).each(function () {\n      var $textarea = $(this);\n      if ($textarea.val().length) {\n        textareaAutoResize($textarea);\n      }\n    });\n\n    $('body').on('keyup keydown autoresize', text_area_selector, function () {\n      textareaAutoResize($(this));\n    });\n\n    // File Input Path\n    $(document).on('change', '.file-field input[type=\"file\"]', function () {\n      var file_field = $(this).closest('.file-field');\n      var path_input = file_field.find('input.file-path');\n      var files      = $(this)[0].files;\n      var file_names = [];\n      for (var i = 0; i < files.length; i++) {\n        file_names.push(files[i].name);\n      }\n      path_input.val(file_names.join(\", \"));\n      path_input.trigger('change');\n    });\n\n    /****************\n    *  Range Input  *\n    ****************/\n\n    var range_type = 'input[type=range]';\n    var range_mousedown = false;\n    var left;\n\n    $(range_type).each(function () {\n      var thumb = $('<span class=\"thumb\"><span class=\"value\"></span></span>');\n      $(this).after(thumb);\n    });\n\n    var range_wrapper = '.range-field';\n    $(document).on('change', range_type, function(e) {\n      var thumb = $(this).siblings('.thumb');\n      thumb.find('.value').html($(this).val());\n    });\n\n    $(document).on('input mousedown touchstart', range_type, function(e) {\n      var thumb = $(this).siblings('.thumb');\n      var width = $(this).outerWidth();\n\n      // If thumb indicator does not exist yet, create it\n      if (thumb.length <= 0) {\n        thumb = $('<span class=\"thumb\"><span class=\"value\"></span></span>');\n        $(this).after(thumb);\n      }\n\n      // Set indicator value\n      thumb.find('.value').html($(this).val());\n\n      range_mousedown = true;\n      $(this).addClass('active');\n\n      if (!thumb.hasClass('active')) {\n        thumb.velocity({ height: \"30px\", width: \"30px\", top: \"-20px\", marginLeft: \"-15px\"}, { duration: 300, easing: 'easeOutExpo' });\n      }\n\n      if (e.type !== 'input') {\n        if(e.pageX === undefined || e.pageX === null){//mobile\n           left = e.originalEvent.touches[0].pageX - $(this).offset().left;\n        }\n        else{ // desktop\n           left = e.pageX - $(this).offset().left;\n        }\n        if (left < 0) {\n          left = 0;\n        }\n        else if (left > width) {\n          left = width;\n        }\n        thumb.addClass('active').css('left', left);\n      }\n\n      thumb.find('.value').html($(this).val());\n    });\n\n    $(document).on('mouseup touchend', range_wrapper, function() {\n      range_mousedown = false;\n      $(this).removeClass('active');\n    });\n\n    $(document).on('mousemove touchmove', range_wrapper, function(e) {\n      var thumb = $(this).children('.thumb');\n      var left;\n      if (range_mousedown) {\n        if (!thumb.hasClass('active')) {\n          thumb.velocity({ height: '30px', width: '30px', top: '-20px', marginLeft: '-15px'}, { duration: 300, easing: 'easeOutExpo' });\n        }\n        if (e.pageX === undefined || e.pageX === null) { //mobile\n          left = e.originalEvent.touches[0].pageX - $(this).offset().left;\n        }\n        else{ // desktop\n          left = e.pageX - $(this).offset().left;\n        }\n        var width = $(this).outerWidth();\n\n        if (left < 0) {\n          left = 0;\n        }\n        else if (left > width) {\n          left = width;\n        }\n        thumb.addClass('active').css('left', left);\n        thumb.find('.value').html(thumb.siblings(range_type).val());\n      }\n    });\n\n    $(document).on('mouseout touchleave', range_wrapper, function() {\n      if (!range_mousedown) {\n\n        var thumb = $(this).children('.thumb');\n\n        if (thumb.hasClass('active')) {\n          thumb.velocity({ height: '0', width: '0', top: '10px', marginLeft: '-6px'}, { duration: 100 });\n        }\n        thumb.removeClass('active');\n      }\n    });\n\n    /**************************\n     * Auto complete plugin  *\n     *************************/\n    $.fn.autocomplete = function (options) {\n      // Defaults\n      var defaults = {\n        data: {},\n        limit: Infinity,\n        onAutocomplete: null\n      };\n\n      options = $.extend(defaults, options);\n\n      return this.each(function() {\n        var $input = $(this);\n        var data = options.data,\n            count = 0,\n            activeIndex = 0,\n            oldVal,\n            $inputDiv = $input.closest('.input-field'); // Div to append on\n\n        // Check if data isn't empty\n        if (!$.isEmptyObject(data)) {\n          var $autocomplete = $('<ul class=\"autocomplete-content dropdown-content\"></ul>');\n          var $oldAutocomplete;\n\n          // Append autocomplete element.\n          // Prevent double structure init.\n          if ($inputDiv.length) {\n            $oldAutocomplete = $inputDiv.children('.autocomplete-content.dropdown-content').first();\n            if (!$oldAutocomplete.length) {\n              $inputDiv.append($autocomplete); // Set ul in body\n            }\n          } else {\n            $oldAutocomplete = $input.next('.autocomplete-content.dropdown-content');\n            if (!$oldAutocomplete.length) {\n              $input.after($autocomplete);\n            }\n          }\n          if ($oldAutocomplete.length) {\n            $autocomplete = $oldAutocomplete;\n          }\n\n          // Highlight partial match.\n          var highlight = function(string, $el) {\n            var img = $el.find('img');\n            var matchStart = $el.text().toLowerCase().indexOf(\"\" + string.toLowerCase() + \"\"),\n                matchEnd = matchStart + string.length - 1,\n                beforeMatch = $el.text().slice(0, matchStart),\n                matchText = $el.text().slice(matchStart, matchEnd + 1),\n                afterMatch = $el.text().slice(matchEnd + 1);\n            $el.html(\"<span>\" + beforeMatch + \"<span class='highlight'>\" + matchText + \"</span>\" + afterMatch + \"</span>\");\n            if (img.length) {\n              $el.prepend(img);\n            }\n          };\n\n          // Reset current element position\n          var resetCurrentElement = function() {\n            activeIndex = 0;\n            $autocomplete.find('.active').removeClass('active');\n          }\n\n          // Perform search\n          $input.off('keyup.autocomplete').on('keyup.autocomplete', function (e) {\n            // Reset count.\n            count = 0;\n\n            // Don't capture enter or arrow key usage.\n            if (e.which === 13 ||\n                e.which === 38 ||\n                e.which === 40) {\n              return;\n            }\n\n            var val = $input.val().toLowerCase();\n\n            // Check if the input isn't empty\n            if (oldVal !== val) {\n              $autocomplete.empty();\n              resetCurrentElement();\n\n              if (val !== '') {\n                for(var key in data) {\n                  if (data.hasOwnProperty(key) &&\n                      key.toLowerCase().indexOf(val) !== -1 &&\n                      key.toLowerCase() !== val) {\n                    // Break if past limit\n                    if (count >= options.limit) {\n                      break;\n                    }\n\n                    var autocompleteOption = $('<li></li>');\n                    if (!!data[key]) {\n                      autocompleteOption.append('<img src=\"'+ data[key] +'\" class=\"right circle\"><span>'+ key +'</span>');\n                    } else {\n                      autocompleteOption.append('<span>'+ key +'</span>');\n                    }\n\n                    $autocomplete.append(autocompleteOption);\n                    highlight(val, autocompleteOption);\n                    count++;\n                  }\n                }\n              }\n            }\n\n            // Update oldVal\n            oldVal = val;\n          });\n\n          $input.off('keydown.autocomplete').on('keydown.autocomplete', function (e) {\n            // Arrow keys and enter key usage\n            var keyCode = e.which,\n                liElement,\n                numItems = $autocomplete.children('li').length,\n                $active = $autocomplete.children('.active').first();\n\n            // select element on Enter\n            if (keyCode === 13) {\n              liElement = $autocomplete.children('li').eq(activeIndex);\n              if (liElement.length) {\n                liElement.click();\n                e.preventDefault();\n              }\n              return;\n            }\n\n            // Capture up and down key\n            if ( keyCode === 38 || keyCode === 40 ) {\n              e.preventDefault();\n\n              if (keyCode === 38 &&\n                  activeIndex > 0) {\n                activeIndex--;\n              }\n\n              if (keyCode === 40 &&\n                  activeIndex < (numItems - 1) &&\n                  $active.length) {\n                activeIndex++;\n              }\n\n              $active.removeClass('active');\n              $autocomplete.children('li').eq(activeIndex).addClass('active');\n            }\n          });\n\n          // Set input value\n          $autocomplete.on('click', 'li', function () {\n            var text = $(this).text().trim();\n            $input.val(text);\n            $input.trigger('change');\n            $autocomplete.empty();\n            resetCurrentElement();\n\n            // Handle onAutocomplete callback.\n            if (typeof(options.onAutocomplete) === \"function\") {\n              options.onAutocomplete.call(this, text);\n            }\n          });\n        }\n      });\n    };\n\n  }); // End of $(document).ready\n\n  /*******************\n   *  Select Plugin  *\n   ******************/\n  $.fn.material_select = function (callback) {\n    $(this).each(function(){\n      var $select = $(this);\n\n      if ($select.hasClass('browser-default')) {\n        return; // Continue to next (return false breaks out of entire loop)\n      }\n\n      var multiple = $select.attr('multiple') ? true : false,\n          lastID = $select.data('select-id'); // Tear down structure if Select needs to be rebuilt\n\n      if (lastID) {\n        $select.parent().find('span.caret').remove();\n        $select.parent().find('input').remove();\n\n        $select.unwrap();\n        $('ul#select-options-'+lastID).remove();\n      }\n\n      // If destroying the select, remove the selelct-id and reset it to it's uninitialized state.\n      if(callback === 'destroy') {\n        $select.data('select-id', null).removeClass('initialized');\n        return;\n      }\n\n      var uniqueID = Materialize.guid();\n      $select.data('select-id', uniqueID);\n      var wrapper = $('<div class=\"select-wrapper\"></div>');\n      wrapper.addClass($select.attr('class'));\n      var options = $('<ul id=\"select-options-' + uniqueID +'\" class=\"dropdown-content select-dropdown ' + (multiple ? 'multiple-select-dropdown' : '') + '\"></ul>'),\n          selectChildren = $select.children('option, optgroup'),\n          valuesSelected = [],\n          optionsHover = false;\n\n      var label = $select.find('option:selected').html() || $select.find('option:first').html() || \"\";\n\n      // Function that renders and appends the option taking into\n      // account type and possible image icon.\n      var appendOptionWithIcon = function(select, option, type) {\n        // Add disabled attr if disabled\n        var disabledClass = (option.is(':disabled')) ? 'disabled ' : '';\n        var optgroupClass = (type === 'optgroup-option') ? 'optgroup-option ' : '';\n\n        // add icons\n        var icon_url = option.data('icon');\n        var classes = option.attr('class');\n        if (!!icon_url) {\n          var classString = '';\n          if (!!classes) classString = ' class=\"' + classes + '\"';\n\n          // Check for multiple type.\n          if (type === 'multiple') {\n            options.append($('<li class=\"' + disabledClass + '\"><img alt=\"\" src=\"' + icon_url + '\"' + classString + '><span><input type=\"checkbox\"' + disabledClass + '/><label></label>' + option.html() + '</span></li>'));\n          } else {\n            options.append($('<li class=\"' + disabledClass + optgroupClass + '\"><img alt=\"\" src=\"' + icon_url + '\"' + classString + '><span>' + option.html() + '</span></li>'));\n          }\n          return true;\n        }\n\n        // Check for multiple type.\n        if (type === 'multiple') {\n          options.append($('<li class=\"' + disabledClass + '\"><span><input type=\"checkbox\"' + disabledClass + '/><label></label>' + option.html() + '</span></li>'));\n        } else {\n          options.append($('<li class=\"' + disabledClass + optgroupClass + '\"><span>' + option.html() + '</span></li>'));\n        }\n      };\n\n      /* Create dropdown structure. */\n      if (selectChildren.length) {\n        selectChildren.each(function() {\n          if ($(this).is('option')) {\n            // Direct descendant option.\n            if (multiple) {\n              appendOptionWithIcon($select, $(this), 'multiple');\n\n            } else {\n              appendOptionWithIcon($select, $(this));\n            }\n          } else if ($(this).is('optgroup')) {\n            // Optgroup.\n            var selectOptions = $(this).children('option');\n            options.append($('<li class=\"optgroup\"><span>' + $(this).attr('label') + '</span></li>'));\n\n            selectOptions.each(function() {\n              appendOptionWithIcon($select, $(this), 'optgroup-option');\n            });\n          }\n        });\n      }\n\n      options.find('li:not(.optgroup)').each(function (i) {\n        $(this).click(function (e) {\n          // Check if option element is disabled\n          if (!$(this).hasClass('disabled') && !$(this).hasClass('optgroup')) {\n            var selected = true;\n\n            if (multiple) {\n              $('input[type=\"checkbox\"]', this).prop('checked', function(i, v) { return !v; });\n              selected = toggleEntryFromArray(valuesSelected, $(this).index(), $select);\n              $newSelect.trigger('focus');\n            } else {\n              options.find('li').removeClass('active');\n              $(this).toggleClass('active');\n              $newSelect.val($(this).text());\n            }\n\n            activateOption(options, $(this));\n            $select.find('option').eq(i).prop('selected', selected);\n            // Trigger onchange() event\n            $select.trigger('change');\n            if (typeof callback !== 'undefined') callback();\n          }\n\n          e.stopPropagation();\n        });\n      });\n\n      // Wrap Elements\n      $select.wrap(wrapper);\n      // Add Select Display Element\n      var dropdownIcon = $('<span class=\"caret\">&#9660;</span>');\n      if ($select.is(':disabled'))\n        dropdownIcon.addClass('disabled');\n\n      // escape double quotes\n      var sanitizedLabelHtml = label.replace(/\"/g, '&quot;');\n\n      var $newSelect = $('<input type=\"text\" class=\"select-dropdown\" readonly=\"true\" ' + (($select.is(':disabled')) ? 'disabled' : '') + ' data-activates=\"select-options-' + uniqueID +'\" value=\"'+ sanitizedLabelHtml +'\"/>');\n      $select.before($newSelect);\n      $newSelect.before(dropdownIcon);\n\n      $newSelect.after(options);\n      // Check if section element is disabled\n      if (!$select.is(':disabled')) {\n        $newSelect.dropdown({'hover': false, 'closeOnClick': false});\n      }\n\n      // Copy tabindex\n      if ($select.attr('tabindex')) {\n        $($newSelect[0]).attr('tabindex', $select.attr('tabindex'));\n      }\n\n      $select.addClass('initialized');\n\n      $newSelect.on({\n        'focus': function (){\n          if ($('ul.select-dropdown').not(options[0]).is(':visible')) {\n            $('input.select-dropdown').trigger('close');\n          }\n          if (!options.is(':visible')) {\n            $(this).trigger('open', ['focus']);\n            var label = $(this).val();\n            if (multiple && label.indexOf(',') >= 0) {\n              label = label.split(',')[0];\n            }\n\n            var selectedOption = options.find('li').filter(function() {\n              return $(this).text().toLowerCase() === label.toLowerCase();\n            })[0];\n            activateOption(options, selectedOption, true);\n          }\n        },\n        'click': function (e){\n          e.stopPropagation();\n        }\n      });\n\n      $newSelect.on('blur', function() {\n        if (!multiple) {\n          $(this).trigger('close');\n        }\n        options.find('li.selected').removeClass('selected');\n      });\n\n      options.hover(function() {\n        optionsHover = true;\n      }, function () {\n        optionsHover = false;\n      });\n\n      $(window).on({\n        'click': function () {\n          multiple && (optionsHover || $newSelect.trigger('close'));\n        }\n      });\n\n      // Add initial multiple selections.\n      if (multiple) {\n        $select.find(\"option:selected:not(:disabled)\").each(function () {\n          var index = $(this).index();\n\n          toggleEntryFromArray(valuesSelected, index, $select);\n          options.find(\"li\").eq(index).find(\":checkbox\").prop(\"checked\", true);\n        });\n      }\n\n      /**\n       * Make option as selected and scroll to selected position\n       * @param {jQuery} collection  Select options jQuery element\n       * @param {Element} newOption  element of the new option\n       * @param {Boolean} firstActivation  If on first activation of select\n       */\n      var activateOption = function(collection, newOption, firstActivation) {\n        if (newOption) {\n          collection.find('li.selected').removeClass('selected');\n          var option = $(newOption);\n          option.addClass('selected');\n          if (!multiple || !!firstActivation) {\n            options.scrollTo(option);\n          }\n        }\n      };\n\n      // Allow user to search by typing\n      // this array is cleared after 1 second\n      var filterQuery = [],\n          onKeyDown = function(e){\n            // TAB - switch to another input\n            if(e.which == 9){\n              $newSelect.trigger('close');\n              return;\n            }\n\n            // ARROW DOWN WHEN SELECT IS CLOSED - open select options\n            if(e.which == 40 && !options.is(':visible')){\n              $newSelect.trigger('open');\n              return;\n            }\n\n            // ENTER WHEN SELECT IS CLOSED - submit form\n            if(e.which == 13 && !options.is(':visible')){\n              return;\n            }\n\n            e.preventDefault();\n\n            // CASE WHEN USER TYPE LETTERS\n            var letter = String.fromCharCode(e.which).toLowerCase(),\n                nonLetters = [9,13,27,38,40];\n            if (letter && (nonLetters.indexOf(e.which) === -1)) {\n              filterQuery.push(letter);\n\n              var string = filterQuery.join(''),\n                  newOption = options.find('li').filter(function() {\n                    return $(this).text().toLowerCase().indexOf(string) === 0;\n                  })[0];\n\n              if (newOption) {\n                activateOption(options, newOption);\n              }\n            }\n\n            // ENTER - select option and close when select options are opened\n            if (e.which == 13) {\n              var activeOption = options.find('li.selected:not(.disabled)')[0];\n              if(activeOption){\n                $(activeOption).trigger('click');\n                if (!multiple) {\n                  $newSelect.trigger('close');\n                }\n              }\n            }\n\n            // ARROW DOWN - move to next not disabled option\n            if (e.which == 40) {\n              if (options.find('li.selected').length) {\n                newOption = options.find('li.selected').next('li:not(.disabled)')[0];\n              } else {\n                newOption = options.find('li:not(.disabled)')[0];\n              }\n              activateOption(options, newOption);\n            }\n\n            // ESC - close options\n            if (e.which == 27) {\n              $newSelect.trigger('close');\n            }\n\n            // ARROW UP - move to previous not disabled option\n            if (e.which == 38) {\n              newOption = options.find('li.selected').prev('li:not(.disabled)')[0];\n              if(newOption)\n                activateOption(options, newOption);\n            }\n\n            // Automaticaly clean filter query so user can search again by starting letters\n            setTimeout(function(){ filterQuery = []; }, 1000);\n          };\n\n      $newSelect.on('keydown', onKeyDown);\n    });\n\n    function toggleEntryFromArray(entriesArray, entryIndex, select) {\n      var index = entriesArray.indexOf(entryIndex),\n          notAdded = index === -1;\n\n      if (notAdded) {\n        entriesArray.push(entryIndex);\n      } else {\n        entriesArray.splice(index, 1);\n      }\n\n      select.siblings('ul.dropdown-content').find('li').eq(entryIndex).toggleClass('active');\n\n      // use notAdded instead of true (to detect if the option is selected or not)\n      select.find('option').eq(entryIndex).prop('selected', notAdded);\n      setValueToInput(entriesArray, select);\n\n      return notAdded;\n    }\n\n    function setValueToInput(entriesArray, select) {\n      var value = '';\n\n      for (var i = 0, count = entriesArray.length; i < count; i++) {\n        var text = select.find('option').eq(entriesArray[i]).text();\n\n        i === 0 ? value += text : value += ', ' + text;\n      }\n\n      if (value === '') {\n        value = select.find('option:disabled').eq(0).text();\n      }\n\n      select.siblings('input.select-dropdown').val(value);\n    }\n  };\n\n}( jQuery ));\n"]}