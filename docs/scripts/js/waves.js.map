{"version":3,"sources":["js/waves.js"],"names":["window","Waves","$$","document","querySelectorAll","bind","isWindow","obj","getWindow","elem","nodeType","defaultView","offset","docElem","win","box","top","left","doc","ownerDocument","documentElement","getBoundingClientRect","undefined","pageYOffset","clientTop","pageXOffset","clientLeft","convertStyle","style","a","hasOwnProperty","Effect","duration","show","e","element","button","el","ripple","createElement","className","appendChild","pos","relativeY","pageY","relativeX","pageX","scale","clientWidth","touches","setAttribute","Date","now","rippleStyle","replace","transform","opacity","hide","TouchHandler","touchup","width","ripples","getElementsByClassName","length","getAttribute","diff","Number","delay","setTimeout","removeChild","wrapInput","elements","tagName","toLowerCase","parent","parentNode","indexOf","wrapper","elementStyle","removeAttribute","replaceChild","allowEvent","allow","type","getWavesEffectElement","target","srcElement","parentElement","SVGElement","classList","contains","showEffect","addEventListener","displayEffect","options","body","attach"],"mappings":"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","file":"waves.js","sourcesContent":["/*!\n * Waves v0.6.4\n * http://fian.my.id/Waves\n *\n * Copyright 2014 Alfiana E. Sibuea and other contributors\n * Released under the MIT license\n * https://github.com/fians/Waves/blob/master/LICENSE\n */\n\n;(function(window) {\n    'use strict';\n\n    var Waves = Waves || {};\n    var $$ = document.querySelectorAll.bind(document);\n\n    // Find exact position of element\n    function isWindow(obj) {\n        return obj !== null && obj === obj.window;\n    }\n\n    function getWindow(elem) {\n        return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;\n    }\n\n    function offset(elem) {\n        var docElem, win,\n            box = {top: 0, left: 0},\n            doc = elem && elem.ownerDocument;\n\n        docElem = doc.documentElement;\n\n        if (typeof elem.getBoundingClientRect !== typeof undefined) {\n            box = elem.getBoundingClientRect();\n        }\n        win = getWindow(doc);\n        return {\n            top: box.top + win.pageYOffset - docElem.clientTop,\n            left: box.left + win.pageXOffset - docElem.clientLeft\n        };\n    }\n\n    function convertStyle(obj) {\n        var style = '';\n\n        for (var a in obj) {\n            if (obj.hasOwnProperty(a)) {\n                style += (a + ':' + obj[a] + ';');\n            }\n        }\n\n        return style;\n    }\n\n    var Effect = {\n\n        // Effect delay\n        duration: 750,\n\n        show: function(e, element) {\n\n            // Disable right click\n            if (e.button === 2) {\n                return false;\n            }\n\n            var el = element || this;\n\n            // Create ripple\n            var ripple = document.createElement('div');\n            ripple.className = 'waves-ripple';\n            el.appendChild(ripple);\n\n            // Get click coordinate and element witdh\n            var pos         = offset(el);\n            var relativeY   = (e.pageY - pos.top);\n            var relativeX   = (e.pageX - pos.left);\n            var scale       = 'scale('+((el.clientWidth / 100) * 10)+')';\n\n            // Support for touch devices\n            if ('touches' in e) {\n              relativeY   = (e.touches[0].pageY - pos.top);\n              relativeX   = (e.touches[0].pageX - pos.left);\n            }\n\n            // Attach data to element\n            ripple.setAttribute('data-hold', Date.now());\n            ripple.setAttribute('data-scale', scale);\n            ripple.setAttribute('data-x', relativeX);\n            ripple.setAttribute('data-y', relativeY);\n\n            // Set ripple position\n            var rippleStyle = {\n                'top': relativeY+'px',\n                'left': relativeX+'px'\n            };\n\n            ripple.className = ripple.className + ' waves-notransition';\n            ripple.setAttribute('style', convertStyle(rippleStyle));\n            ripple.className = ripple.className.replace('waves-notransition', '');\n\n            // Scale the ripple\n            rippleStyle['-webkit-transform'] = scale;\n            rippleStyle['-moz-transform'] = scale;\n            rippleStyle['-ms-transform'] = scale;\n            rippleStyle['-o-transform'] = scale;\n            rippleStyle.transform = scale;\n            rippleStyle.opacity   = '1';\n\n            rippleStyle['-webkit-transition-duration'] = Effect.duration + 'ms';\n            rippleStyle['-moz-transition-duration']    = Effect.duration + 'ms';\n            rippleStyle['-o-transition-duration']      = Effect.duration + 'ms';\n            rippleStyle['transition-duration']         = Effect.duration + 'ms';\n\n            rippleStyle['-webkit-transition-timing-function'] = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';\n            rippleStyle['-moz-transition-timing-function']    = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';\n            rippleStyle['-o-transition-timing-function']      = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';\n            rippleStyle['transition-timing-function']         = 'cubic-bezier(0.250, 0.460, 0.450, 0.940)';\n\n            ripple.setAttribute('style', convertStyle(rippleStyle));\n        },\n\n        hide: function(e) {\n            TouchHandler.touchup(e);\n\n            var el = this;\n            var width = el.clientWidth * 1.4;\n\n            // Get first ripple\n            var ripple = null;\n            var ripples = el.getElementsByClassName('waves-ripple');\n            if (ripples.length > 0) {\n                ripple = ripples[ripples.length - 1];\n            } else {\n                return false;\n            }\n\n            var relativeX   = ripple.getAttribute('data-x');\n            var relativeY   = ripple.getAttribute('data-y');\n            var scale       = ripple.getAttribute('data-scale');\n\n            // Get delay beetween mousedown and mouse leave\n            var diff = Date.now() - Number(ripple.getAttribute('data-hold'));\n            var delay = 350 - diff;\n\n            if (delay < 0) {\n                delay = 0;\n            }\n\n            // Fade out ripple after delay\n            setTimeout(function() {\n                var style = {\n                    'top': relativeY+'px',\n                    'left': relativeX+'px',\n                    'opacity': '0',\n\n                    // Duration\n                    '-webkit-transition-duration': Effect.duration + 'ms',\n                    '-moz-transition-duration': Effect.duration + 'ms',\n                    '-o-transition-duration': Effect.duration + 'ms',\n                    'transition-duration': Effect.duration + 'ms',\n                    '-webkit-transform': scale,\n                    '-moz-transform': scale,\n                    '-ms-transform': scale,\n                    '-o-transform': scale,\n                    'transform': scale,\n                };\n\n                ripple.setAttribute('style', convertStyle(style));\n\n                setTimeout(function() {\n                    try {\n                        el.removeChild(ripple);\n                    } catch(e) {\n                        return false;\n                    }\n                }, Effect.duration);\n            }, delay);\n        },\n\n        // Little hack to make <input> can perform waves effect\n        wrapInput: function(elements) {\n            for (var a = 0; a < elements.length; a++) {\n                var el = elements[a];\n\n                if (el.tagName.toLowerCase() === 'input') {\n                    var parent = el.parentNode;\n\n                    // If input already have parent just pass through\n                    if (parent.tagName.toLowerCase() === 'i' && parent.className.indexOf('waves-effect') !== -1) {\n                        continue;\n                    }\n\n                    // Put element class and style to the specified parent\n                    var wrapper = document.createElement('i');\n                    wrapper.className = el.className + ' waves-input-wrapper';\n\n                    var elementStyle = el.getAttribute('style');\n\n                    if (!elementStyle) {\n                        elementStyle = '';\n                    }\n\n                    wrapper.setAttribute('style', elementStyle);\n\n                    el.className = 'waves-button-input';\n                    el.removeAttribute('style');\n\n                    // Put element as child\n                    parent.replaceChild(wrapper, el);\n                    wrapper.appendChild(el);\n                }\n            }\n        }\n    };\n\n\n    /**\n     * Disable mousedown event for 500ms during and after touch\n     */\n    var TouchHandler = {\n        /* uses an integer rather than bool so there's no issues with\n         * needing to clear timeouts if another touch event occurred\n         * within the 500ms. Cannot mouseup between touchstart and\n         * touchend, nor in the 500ms after touchend. */\n        touches: 0,\n        allowEvent: function(e) {\n            var allow = true;\n\n            if (e.type === 'touchstart') {\n                TouchHandler.touches += 1; //push\n            } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n                setTimeout(function() {\n                    if (TouchHandler.touches > 0) {\n                        TouchHandler.touches -= 1; //pop after 500ms\n                    }\n                }, 500);\n            } else if (e.type === 'mousedown' && TouchHandler.touches > 0) {\n                allow = false;\n            }\n\n            return allow;\n        },\n        touchup: function(e) {\n            TouchHandler.allowEvent(e);\n        }\n    };\n\n\n    /**\n     * Delegated click handler for .waves-effect element.\n     * returns null when .waves-effect element not in \"click tree\"\n     */\n    function getWavesEffectElement(e) {\n        if (TouchHandler.allowEvent(e) === false) {\n            return null;\n        }\n\n        var element = null;\n        var target = e.target || e.srcElement;\n\n        while (target.parentElement !== null) {\n            if (!(target instanceof SVGElement) && target.className.indexOf('waves-effect') !== -1) {\n                element = target;\n                break;\n            } else if (target.classList.contains('waves-effect')) {\n                element = target;\n                break;\n            }\n            target = target.parentElement;\n        }\n\n        return element;\n    }\n\n    /**\n     * Bubble the click and show effect if .waves-effect elem was found\n     */\n    function showEffect(e) {\n        var element = getWavesEffectElement(e);\n\n        if (element !== null) {\n            Effect.show(e, element);\n\n            if ('ontouchstart' in window) {\n                element.addEventListener('touchend', Effect.hide, false);\n                element.addEventListener('touchcancel', Effect.hide, false);\n            }\n\n            element.addEventListener('mouseup', Effect.hide, false);\n            element.addEventListener('mouseleave', Effect.hide, false);\n        }\n    }\n\n    Waves.displayEffect = function(options) {\n        options = options || {};\n\n        if ('duration' in options) {\n            Effect.duration = options.duration;\n        }\n\n        //Wrap input inside <i> tag\n        Effect.wrapInput($$('.waves-effect'));\n\n        if ('ontouchstart' in window) {\n            document.body.addEventListener('touchstart', showEffect, false);\n        }\n\n        document.body.addEventListener('mousedown', showEffect, false);\n    };\n\n    /**\n     * Attach Waves to an input element (or any element which doesn't\n     * bubble mouseup/mousedown events).\n     *   Intended to be used with dynamically loaded forms/inputs, or\n     * where the user doesn't want a delegated click handler.\n     */\n    Waves.attach = function(element) {\n        //FUTURE: automatically add waves classes and allow users\n        // to specify them with an options param? Eg. light/classic/button\n        if (element.tagName.toLowerCase() === 'input') {\n            Effect.wrapInput([element]);\n            element = element.parentElement;\n        }\n\n        if ('ontouchstart' in window) {\n            element.addEventListener('touchstart', showEffect, false);\n        }\n\n        element.addEventListener('mousedown', showEffect, false);\n    };\n\n    window.Waves = Waves;\n\n    document.addEventListener('DOMContentLoaded', function() {\n        Waves.displayEffect();\n    }, false);\n\n})(window);\n"]}