{"version":3,"sources":["js/chips.js"],"names":["$","materialChipsDefaults","data","placeholder","secondaryPlaceholder","autocompleteData","autocompleteLimit","Infinity","document","ready","on","e","$chips","closest","attr","remove","fn","material_chip","options","self","$el","$document","SELS","CHIPS","CHIP","INPUT","DELETE","SELECTED_CHIP","curr_options","extend","hasAutocomplete","isEmptyObject","init","i","chips","each","chipId","Materialize","guid","Array","hasClass","addClass","handleEvents","off","target","find","focus","$chip","length","wasSelected","removeClass","selectChip","index","is","siblings","which","preventDefault","deleteChip","selectIndex","$currChips","$target","chipsLength","children","addChip","tag","val","keyCode","blur","stopPropagation","html","forEach","elem","renderChip","setPlaceholder","label","next","input","autocomplete","limit","onAutocomplete","image","prop","isValid","exists","chipHtml","newData","oldData","push","insertBefore","trigger","chipIndex","chip","eq","getChipsElement","jQuery"],"mappings":"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","file":"chips.js","sourcesContent":["(function ($) {\n  var materialChipsDefaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    autocompleteData: {},\n    autocompleteLimit: Infinity,\n  };\n\n  $(document).ready(function() {\n    // Handle removal of static chips.\n    $(document).on('click', '.chip .close', function(e){\n      var $chips = $(this).closest('.chips');\n      if ($chips.attr('data-initialized')) {\n        return;\n      }\n      $(this).closest('.chip').remove();\n    });\n  });\n\n  $.fn.material_chip = function (options) {\n    var self = this;\n    this.$el = $(this);\n    this.$document = $(document);\n    this.SELS = {\n      CHIPS: '.chips',\n      CHIP: '.chip',\n      INPUT: 'input',\n      DELETE: '.material-icons',\n      SELECTED_CHIP: '.selected',\n    };\n\n    if ('data' === options) {\n      return this.$el.data('chips');\n    }\n\n    var curr_options = $.extend({}, materialChipsDefaults, options);\n    self.hasAutocomplete = !$.isEmptyObject(curr_options.autocompleteData);\n\n    // Initialize\n    this.init = function() {\n      var i = 0;\n      var chips;\n      self.$el.each(function(){\n        var $chips = $(this);\n        var chipId = Materialize.guid();\n        self.chipId = chipId;\n\n        if (!curr_options.data || !(curr_options.data instanceof Array)) {\n          curr_options.data = [];\n        }\n        $chips.data('chips', curr_options.data);\n        $chips.attr('data-index', i);\n        $chips.attr('data-initialized', true);\n\n        if (!$chips.hasClass(self.SELS.CHIPS)) {\n          $chips.addClass('chips');\n        }\n\n        self.chips($chips, chipId);\n        i++;\n      });\n    };\n\n    this.handleEvents = function() {\n      var SELS = self.SELS;\n\n      self.$document.off('click.chips-focus', SELS.CHIPS).on('click.chips-focus', SELS.CHIPS, function(e){\n        $(e.target).find(SELS.INPUT).focus();\n      });\n\n      self.$document.off('click.chips-select', SELS.CHIP).on('click.chips-select', SELS.CHIP, function(e){\n        var $chip = $(e.target);\n        if ($chip.length) {\n          var wasSelected = $chip.hasClass('selected');\n          var $chips = $chip.closest(SELS.CHIPS);\n          $(SELS.CHIP).removeClass('selected');\n\n          if (!wasSelected) {\n            self.selectChip($chip.index(), $chips);\n          }\n        }\n      });\n\n      self.$document.off('keydown.chips').on('keydown.chips', function(e){\n        if ($(e.target).is('input, textarea')) {\n          return;\n        }\n\n        // delete\n        var $chip = self.$document.find(SELS.CHIP + SELS.SELECTED_CHIP);\n        var $chips = $chip.closest(SELS.CHIPS);\n        var length = $chip.siblings(SELS.CHIP).length;\n        var index;\n\n        if (!$chip.length) {\n          return;\n        }\n\n        if (e.which === 8 || e.which === 46) {\n          e.preventDefault();\n\n          index = $chip.index();\n          self.deleteChip(index, $chips);\n\n          var selectIndex = null;\n          if ((index + 1) < length) {\n            selectIndex = index;\n          } else if (index === length || (index + 1) === length) {\n            selectIndex = length - 1;\n          }\n\n          if (selectIndex < 0) selectIndex = null;\n\n          if (null !== selectIndex) {\n            self.selectChip(selectIndex, $chips);\n          }\n          if (!length) $chips.find('input').focus();\n\n        // left\n        } else if (e.which === 37) {\n          index = $chip.index() - 1;\n          if (index < 0) {\n            return;\n          }\n          $(SELS.CHIP).removeClass('selected');\n          self.selectChip(index, $chips);\n\n        // right\n        } else if (e.which === 39) {\n          index = $chip.index() + 1;\n          $(SELS.CHIP).removeClass('selected');\n          if (index > length) {\n            $chips.find('input').focus();\n            return;\n          }\n          self.selectChip(index, $chips);\n        }\n      });\n\n      self.$document.off('focusin.chips', SELS.CHIPS + ' ' + SELS.INPUT).on('focusin.chips', SELS.CHIPS + ' ' + SELS.INPUT, function(e){\n        var $currChips = $(e.target).closest(SELS.CHIPS);\n        $currChips.addClass('focus');\n        $currChips.siblings('label, .prefix').addClass('active');\n        $(SELS.CHIP).removeClass('selected');\n      });\n\n      self.$document.off('focusout.chips', SELS.CHIPS + ' ' + SELS.INPUT).on('focusout.chips', SELS.CHIPS + ' ' + SELS.INPUT, function(e){\n        var $currChips = $(e.target).closest(SELS.CHIPS);\n        $currChips.removeClass('focus');\n\n        // Remove active if empty\n        if (!$currChips.data('chips').length) {\n          $currChips.siblings('label').removeClass('active');\n        }\n        $currChips.siblings('.prefix').removeClass('active');\n      });\n\n      self.$document.off('keydown.chips-add', SELS.CHIPS + ' ' + SELS.INPUT).on('keydown.chips-add', SELS.CHIPS + ' ' + SELS.INPUT, function(e){\n        var $target = $(e.target);\n        var $chips = $target.closest(SELS.CHIPS);\n        var chipsLength = $chips.children(SELS.CHIP).length;\n\n        // enter\n        if (13 === e.which) {\n          // Override enter if autocompleting.\n          if (self.hasAutocomplete &&\n              $chips.find('.autocomplete-content.dropdown-content').length &&\n              $chips.find('.autocomplete-content.dropdown-content').children().length) {\n            return;\n          }\n\n          e.preventDefault();\n          self.addChip({tag: $target.val()}, $chips);\n          $target.val('');\n          return;\n        }\n\n        // delete or left\n        if ((8 === e.keyCode || 37 === e.keyCode) && '' === $target.val() && chipsLength) {\n          e.preventDefault();\n          self.selectChip(chipsLength - 1, $chips);\n          $target.blur();\n          return;\n        }\n      });\n\n      // Click on delete icon in chip.\n      self.$document.off('click.chips-delete', SELS.CHIPS + ' ' + SELS.DELETE).on('click.chips-delete', SELS.CHIPS + ' ' + SELS.DELETE, function(e) {\n        var $target = $(e.target);\n        var $chips = $target.closest(SELS.CHIPS);\n        var $chip = $target.closest(SELS.CHIP);\n        e.stopPropagation();\n        self.deleteChip($chip.index(), $chips);\n        $chips.find('input').focus();\n      });\n    };\n\n    this.chips = function($chips, chipId) {\n      var html = '';\n      $chips.data('chips').forEach(function(elem){\n        html += self.renderChip(elem);\n      });\n      html += '<input id=\"' + chipId +'\" class=\"input\" placeholder=\"\">';\n      $chips.html(html);\n      self.setPlaceholder($chips);\n\n      // Set for attribute for label\n      var label = $chips.next('label');\n      if (label.length) {\n        label.attr('for', chipId);\n\n        if ($chips.data('chips').length) {\n          label.addClass('active');\n        }\n      }\n\n      // Setup autocomplete if needed.\n      var input = $('#' + chipId);\n      if (self.hasAutocomplete) {\n        input.autocomplete({\n          data: curr_options.autocompleteData,\n          limit: curr_options.autocompleteLimit,\n          onAutocomplete: function(val) {\n            self.addChip({tag: val}, $chips);\n            input.val('');\n            input.focus();\n          },\n        })\n      }\n    };\n\n    this.renderChip = function(elem) {\n      if (!elem.tag) return;\n\n      var html = '<div class=\"chip\">' + elem.tag;\n      if (elem.image) {\n        html += ' <img src=\"' + elem.image + '\"> ';\n      }\n      html += '<i class=\"material-icons close\">close</i>';\n      html += '</div>';\n      return html;\n    };\n\n    this.setPlaceholder = function($chips) {\n      if ($chips.data('chips').length && curr_options.placeholder) {\n        $chips.find('input').prop('placeholder', curr_options.placeholder);\n\n      } else if (!$chips.data('chips').length && curr_options.secondaryPlaceholder) {\n        $chips.find('input').prop('placeholder', curr_options.secondaryPlaceholder);\n      }\n    };\n\n    this.isValid = function($chips, elem) {\n      var chips = $chips.data('chips');\n      var exists = false;\n      for (var i=0; i < chips.length; i++) {\n        if (chips[i].tag === elem.tag) {\n            exists = true;\n            return;\n        }\n      }\n      return '' !== elem.tag && !exists;\n    };\n\n    this.addChip = function(elem, $chips) {\n      if (!self.isValid($chips, elem)) {\n        return;\n      }\n      var chipHtml = self.renderChip(elem);\n      var newData = [];\n      var oldData = $chips.data('chips');\n      for (var i = 0; i < oldData.length; i++) {\n        newData.push(oldData[i]);\n      }\n      newData.push(elem);\n\n      $chips.data('chips', newData);\n      $(chipHtml).insertBefore($chips.find('input'));\n      $chips.trigger('chip.add', elem);\n      self.setPlaceholder($chips);\n    };\n\n    this.deleteChip = function(chipIndex, $chips) {\n      var chip = $chips.data('chips')[chipIndex];\n      $chips.find('.chip').eq(chipIndex).remove();\n\n      var newData = [];\n      var oldData = $chips.data('chips');\n      for (var i = 0; i < oldData.length; i++) {\n        if (i !== chipIndex) {\n          newData.push(oldData[i]);\n        }\n      }\n\n      $chips.data('chips', newData);\n      $chips.trigger('chip.delete', chip);\n      self.setPlaceholder($chips);\n    };\n\n    this.selectChip = function(chipIndex, $chips) {\n      var $chip = $chips.find('.chip').eq(chipIndex);\n      if ($chip && false === $chip.hasClass('selected')) {\n        $chip.addClass('selected');\n        $chips.trigger('chip.select', $chips.data('chips')[chipIndex]);\n      }\n    };\n\n    this.getChipsElement = function(index, $chips) {\n      return $chips.eq(index);\n    };\n\n    // init\n    this.init();\n\n    this.handleEvents();\n  };\n}( jQuery ));\n"]}