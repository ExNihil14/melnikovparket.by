{"version":3,"sources":["js/character_counter.js"],"names":["$","fn","characterCounter","each","$input","$counterElement","parent","find","length","itHasLengthAttribute","attr","undefined","on","updateCounter","removeCounterElement","addCounterElement","maxLength","actualLength","val","isValidLength","html","addInputStyle","addClass","css","append","inputHasInvalidClass","hasClass","removeClass","document","ready","jQuery"],"mappings":";;AAAC,WAAUA,CAAV,EAAa;;AAEZA,IAAEC,EAAF,CAAKC,gBAAL,GAAwB,YAAU;AAChC,WAAO,KAAKC,IAAL,CAAU,YAAU;AACzB,UAAIC,SAASJ,EAAE,IAAF,CAAb;AACA,UAAIK,kBAAkBD,OAAOE,MAAP,GAAgBC,IAAhB,CAAqB,iCAArB,CAAtB;;AAEA;AACA,UAAIF,gBAAgBG,MAApB,EAA4B;AAC1B;AACD;;AAED,UAAIC,uBAAuBL,OAAOM,IAAP,CAAY,aAAZ,MAA+BC,SAA1D;;AAEA,UAAGF,oBAAH,EAAwB;AACtBL,eAAOQ,EAAP,CAAU,OAAV,EAAmBC,aAAnB;AACAT,eAAOQ,EAAP,CAAU,OAAV,EAAmBC,aAAnB;AACAT,eAAOQ,EAAP,CAAU,MAAV,EAAkBE,oBAAlB;;AAEAC,0BAAkBX,MAAlB;AACD;AAEF,KAnBM,CAAP;AAoBD,GArBD;;AAuBA,WAASS,aAAT,GAAwB;AACtB,QAAIG,YAAgB,CAAChB,EAAE,IAAF,EAAQU,IAAR,CAAa,aAAb,CAArB;AAAA,QACAO,eAAoB,CAACjB,EAAE,IAAF,EAAQkB,GAAR,GAAcV,MADnC;AAAA,QAEAW,gBAAoBF,gBAAgBD,SAFpC;;AAIAhB,MAAE,IAAF,EAAQM,MAAR,GAAiBC,IAAjB,CAAsB,iCAAtB,EACiBa,IADjB,CACuBH,eAAe,GAAf,GAAqBD,SAD5C;;AAGAK,kBAAcF,aAAd,EAA6BnB,EAAE,IAAF,CAA7B;AACD;;AAED,WAASe,iBAAT,CAA2BX,MAA3B,EAAmC;AACjC,QAAIC,kBAAkBD,OAAOE,MAAP,GAAgBC,IAAhB,CAAqB,iCAArB,CAAtB;;AAEA,QAAIF,gBAAgBG,MAApB,EAA4B;AAC1B;AACD;;AAEDH,sBAAkBL,EAAE,SAAF,EACGsB,QADH,CACY,mBADZ,EAEGC,GAFH,CAEO,OAFP,EAEe,OAFf,EAGGA,GAHH,CAGO,WAHP,EAGmB,MAHnB,EAIGA,GAJH,CAIO,QAJP,EAIiB,CAJjB,CAAlB;;AAMAnB,WAAOE,MAAP,GAAgBkB,MAAhB,CAAuBnB,eAAvB;AACD;;AAED,WAASS,oBAAT,GAA+B;AAC7Bd,MAAE,IAAF,EAAQM,MAAR,GAAiBC,IAAjB,CAAsB,iCAAtB,EAAyDa,IAAzD,CAA8D,EAA9D;AACD;;AAED,WAASC,aAAT,CAAuBF,aAAvB,EAAsCf,MAAtC,EAA6C;AAC3C,QAAIqB,uBAAuBrB,OAAOsB,QAAP,CAAgB,SAAhB,CAA3B;AACA,QAAIP,iBAAiBM,oBAArB,EAA2C;AACzCrB,aAAOuB,WAAP,CAAmB,SAAnB;AACD,KAFD,MAGK,IAAG,CAACR,aAAD,IAAkB,CAACM,oBAAtB,EAA2C;AAC9CrB,aAAOuB,WAAP,CAAmB,OAAnB;AACAvB,aAAOkB,QAAP,CAAgB,SAAhB;AACD;AACF;;AAEDtB,IAAE4B,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AAC1B7B,MAAE,iBAAF,EAAqBE,gBAArB;AACD,GAFD;AAID,CAvEA,EAuEE4B,MAvEF,CAAD","file":"character_counter.js","sourcesContent":["(function ($) {\n\n  $.fn.characterCounter = function(){\n    return this.each(function(){\n      var $input = $(this);\n      var $counterElement = $input.parent().find('span[class=\"character-counter\"]');\n\n      // character counter has already been added appended to the parent container\n      if ($counterElement.length) {\n        return;\n      }\n\n      var itHasLengthAttribute = $input.attr('data-length') !== undefined;\n\n      if(itHasLengthAttribute){\n        $input.on('input', updateCounter);\n        $input.on('focus', updateCounter);\n        $input.on('blur', removeCounterElement);\n\n        addCounterElement($input);\n      }\n\n    });\n  };\n\n  function updateCounter(){\n    var maxLength     = +$(this).attr('data-length'),\n    actualLength      = +$(this).val().length,\n    isValidLength     = actualLength <= maxLength;\n\n    $(this).parent().find('span[class=\"character-counter\"]')\n                    .html( actualLength + '/' + maxLength);\n\n    addInputStyle(isValidLength, $(this));\n  }\n\n  function addCounterElement($input) {\n    var $counterElement = $input.parent().find('span[class=\"character-counter\"]');\n\n    if ($counterElement.length) {\n      return;\n    }\n\n    $counterElement = $('<span/>')\n                        .addClass('character-counter')\n                        .css('float','right')\n                        .css('font-size','12px')\n                        .css('height', 1);\n\n    $input.parent().append($counterElement);\n  }\n\n  function removeCounterElement(){\n    $(this).parent().find('span[class=\"character-counter\"]').html('');\n  }\n\n  function addInputStyle(isValidLength, $input){\n    var inputHasInvalidClass = $input.hasClass('invalid');\n    if (isValidLength && inputHasInvalidClass) {\n      $input.removeClass('invalid');\n    }\n    else if(!isValidLength && !inputHasInvalidClass){\n      $input.removeClass('valid');\n      $input.addClass('invalid');\n    }\n  }\n\n  $(document).ready(function(){\n    $('input, textarea').characterCounter();\n  });\n\n}( jQuery ));\n"]}