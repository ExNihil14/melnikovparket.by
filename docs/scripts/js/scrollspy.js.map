{"version":3,"sources":["js/scrollspy.js"],"names":["$","jWindow","window","elements","elementsInView","isSpying","ticks","unique_id","offset","top","right","bottom","left","findElements","hits","each","i","element","height","elTop","elLeft","elRight","width","elBottom","isIntersect","push","onScroll","scrollOffset","scrollTop","scrollLeft","intersections","lastTick","data","triggerHandler","onWinSize","trigger","scrollSpy","selector","options","defaults","throttle","extend","visible","attr","click","e","preventDefault","Materialize","escapeHash","hash","animate","duration","queue","easing","offsetTop","offsetRight","offsetBottom","offsetLeft","throttledScroll","readyScroll","document","ready","on","setTimeout","grep","value","$this","removeClass","unshift","addClass","winSizeSpy","fn","jQuery"],"mappings":"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","file":"scrollspy.js","sourcesContent":["/**\n * Extend jquery with a scrollspy plugin.\n * This watches the window scroll and fires events when elements are scrolled into viewport.\n *\n * throttle() and getTime() taken from Underscore.js\n * https://github.com/jashkenas/underscore\n *\n * @author Copyright 2013 John Smart\n * @license https://raw.github.com/thesmart/jquery-scrollspy/master/LICENSE\n * @see https://github.com/thesmart\n * @version 0.1.2\n */\n(function($) {\n\n\tvar jWindow = $(window);\n\tvar elements = [];\n\tvar elementsInView = [];\n\tvar isSpying = false;\n\tvar ticks = 0;\n\tvar unique_id = 1;\n\tvar offset = {\n\t\ttop : 0,\n\t\tright : 0,\n\t\tbottom : 0,\n\t\tleft : 0,\n\t}\n\n\t/**\n\t * Find elements that are within the boundary\n\t * @param {number} top\n\t * @param {number} right\n\t * @param {number} bottom\n\t * @param {number} left\n\t * @return {jQuery}\t\tA collection of elements\n\t */\n\tfunction findElements(top, right, bottom, left) {\n\t\tvar hits = $();\n\t\t$.each(elements, function(i, element) {\n\t\t\tif (element.height() > 0) {\n\t\t\t\tvar elTop = element.offset().top,\n\t\t\t\t\telLeft = element.offset().left,\n\t\t\t\t\telRight = elLeft + element.width(),\n\t\t\t\t\telBottom = elTop + element.height();\n\n\t\t\t\tvar isIntersect = !(elLeft > right ||\n\t\t\t\t\telRight < left ||\n\t\t\t\t\telTop > bottom ||\n\t\t\t\t\telBottom < top);\n\n\t\t\t\tif (isIntersect) {\n\t\t\t\t\thits.push(element);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn hits;\n\t}\n\n\n\t/**\n\t * Called when the user scrolls the window\n\t */\n\tfunction onScroll(scrollOffset) {\n\t\t// unique tick id\n\t\t++ticks;\n\n\t\t// viewport rectangle\n\t\tvar top = jWindow.scrollTop(),\n\t\t\tleft = jWindow.scrollLeft(),\n\t\t\tright = left + jWindow.width(),\n\t\t\tbottom = top + jWindow.height();\n\n\t\t// determine which elements are in view\n\t\tvar intersections = findElements(top+offset.top + scrollOffset || 200, right+offset.right, bottom+offset.bottom, left+offset.left);\n\t\t$.each(intersections, function(i, element) {\n\n\t\t\tvar lastTick = element.data('scrollSpy:ticks');\n\t\t\tif (typeof lastTick != 'number') {\n\t\t\t\t// entered into view\n\t\t\t\telement.triggerHandler('scrollSpy:enter');\n\t\t\t}\n\n\t\t\t// update tick id\n\t\t\telement.data('scrollSpy:ticks', ticks);\n\t\t});\n\n\t\t// determine which elements are no longer in view\n\t\t$.each(elementsInView, function(i, element) {\n\t\t\tvar lastTick = element.data('scrollSpy:ticks');\n\t\t\tif (typeof lastTick == 'number' && lastTick !== ticks) {\n\t\t\t\t// exited from view\n\t\t\t\telement.triggerHandler('scrollSpy:exit');\n\t\t\t\telement.data('scrollSpy:ticks', null);\n\t\t\t}\n\t\t});\n\n\t\t// remember elements in view for next tick\n\t\telementsInView = intersections;\n\t}\n\n\t/**\n\t * Called when window is resized\n\t*/\n\tfunction onWinSize() {\n\t\tjWindow.trigger('scrollSpy:winSize');\n\t}\n\n\n\t/**\n\t * Enables ScrollSpy using a selector\n\t * @param {jQuery|string} selector  The elements collection, or a selector\n\t * @param {Object=} options\tOptional.\n        throttle : number -> scrollspy throttling. Default: 100 ms\n        offsetTop : number -> offset from top. Default: 0\n        offsetRight : number -> offset from right. Default: 0\n        offsetBottom : number -> offset from bottom. Default: 0\n        offsetLeft : number -> offset from left. Default: 0\n\t * @returns {jQuery}\n\t */\n\t$.scrollSpy = function(selector, options) {\n\t  var defaults = {\n\t\t\tthrottle: 100,\n\t\t\tscrollOffset: 200 // offset - 200 allows elements near bottom of page to scroll\n    };\n    options = $.extend(defaults, options);\n\n\t\tvar visible = [];\n\t\tselector = $(selector);\n\t\tselector.each(function(i, element) {\n\t\t\telements.push($(element));\n\t\t\t$(element).data(\"scrollSpy:id\", i);\n\t\t\t// Smooth scroll to section\n\t\t  $('a[href=\"#' + $(element).attr('id') + '\"]').click(function(e) {\n\t\t    e.preventDefault();\n\t\t    var offset = $(Materialize.escapeHash(this.hash)).offset().top + 1;\n\t    \t$('html, body').animate({ scrollTop: offset - options.scrollOffset }, {duration: 400, queue: false, easing: 'easeOutCubic'});\n\t\t  });\n\t\t});\n\n\t\toffset.top = options.offsetTop || 0;\n\t\toffset.right = options.offsetRight || 0;\n\t\toffset.bottom = options.offsetBottom || 0;\n\t\toffset.left = options.offsetLeft || 0;\n\n\t\tvar throttledScroll = Materialize.throttle(function() {\n\t\t\tonScroll(options.scrollOffset);\n\t\t}, options.throttle || 100);\n\t\tvar readyScroll = function(){\n\t\t\t$(document).ready(throttledScroll);\n\t\t};\n\n\t\tif (!isSpying) {\n\t\t\tjWindow.on('scroll', readyScroll);\n\t\t\tjWindow.on('resize', readyScroll);\n\t\t\tisSpying = true;\n\t\t}\n\n\t\t// perform a scan once, after current execution context, and after dom is ready\n\t\tsetTimeout(readyScroll, 0);\n\n\n\t\tselector.on('scrollSpy:enter', function() {\n\t\t\tvisible = $.grep(visible, function(value) {\n\t      return value.height() != 0;\n\t    });\n\n\t\t\tvar $this = $(this);\n\n\t\t\tif (visible[0]) {\n\t\t\t\t$('a[href=\"#' + visible[0].attr('id') + '\"]').removeClass('active');\n\t\t\t\tif ($this.data('scrollSpy:id') < visible[0].data('scrollSpy:id')) {\n\t\t\t\t\tvisible.unshift($(this));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvisible.push($(this));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvisible.push($(this));\n\t\t\t}\n\n\n\t\t\t$('a[href=\"#' + visible[0].attr('id') + '\"]').addClass('active');\n\t\t});\n\t\tselector.on('scrollSpy:exit', function() {\n\t\t\tvisible = $.grep(visible, function(value) {\n\t      return value.height() != 0;\n\t    });\n\n\t\t\tif (visible[0]) {\n\t\t\t\t$('a[href=\"#' + visible[0].attr('id') + '\"]').removeClass('active');\n\t\t\t\tvar $this = $(this);\n\t\t\t\tvisible = $.grep(visible, function(value) {\n\t        return value.attr('id') != $this.attr('id');\n\t      });\n\t      if (visible[0]) { // Check if empty\n\t\t\t\t\t$('a[href=\"#' + visible[0].attr('id') + '\"]').addClass('active');\n\t      }\n\t\t\t}\n\t\t});\n\n\t\treturn selector;\n\t};\n\n\t/**\n\t * Listen for window resize events\n\t * @param {Object=} options\t\t\t\t\t\tOptional. Set { throttle: number } to change throttling. Default: 100 ms\n\t * @returns {jQuery}\t\t$(window)\n\t */\n\t$.winSizeSpy = function(options) {\n\t\t$.winSizeSpy = function() { return jWindow; }; // lock from multiple calls\n\t\toptions = options || {\n\t\t\tthrottle: 100\n\t\t};\n\t\treturn jWindow.on('resize', Materialize.throttle(onWinSize, options.throttle || 100));\n\t};\n\n\t/**\n\t * Enables ScrollSpy on a collection of elements\n\t * e.g. $('.scrollSpy').scrollSpy()\n\t * @param {Object=} options\tOptional.\n\t\t\t\t\t\t\t\t\t\t\tthrottle : number -> scrollspy throttling. Default: 100 ms\n\t\t\t\t\t\t\t\t\t\t\toffsetTop : number -> offset from top. Default: 0\n\t\t\t\t\t\t\t\t\t\t\toffsetRight : number -> offset from right. Default: 0\n\t\t\t\t\t\t\t\t\t\t\toffsetBottom : number -> offset from bottom. Default: 0\n\t\t\t\t\t\t\t\t\t\t\toffsetLeft : number -> offset from left. Default: 0\n\t * @returns {jQuery}\n\t */\n\t$.fn.scrollSpy = function(options) {\n\t\treturn $.scrollSpy($(this), options);\n\t};\n\n})(jQuery);\n"]}